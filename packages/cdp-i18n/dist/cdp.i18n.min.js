/*!
 * @cdp/i18n.js 2.0.0
 *
 * Date: 2017-06-26T12:00:16.706Z
 */
(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory(require("jquery"),require("cdp.core"),require("cdp.promise"));else if(typeof define==="function"&&define.amd)define(["jquery","cdp.core","cdp.promise"],factory);else if(typeof exports==="object")exports["CDP"]=factory(require("jquery"),require("cdp.core"),require("cdp.promise"));else root["CDP"]=factory(root["jQuery"],root["CDP"],root["CDP"])})(this,function(__WEBPACK_EXTERNAL_MODULE_1__,__WEBPACK_EXTERNAL_MODULE_2__,__WEBPACK_EXTERNAL_MODULE_3__){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{configurable:false,enumerable:true,get:getter})}};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=0)}([function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(root,factory){if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(1),__webpack_require__(2),__webpack_require__(3)],__WEBPACK_AMD_DEFINE_RESULT__=function($,CDP){return factory($,CDP)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{factory(root.jQuery||root.$,root.CDP||(root.CDP={}))}})(this,function($,CDP){var CDP;(function(CDP){var Promise=CDP.Promise;var TAG="[CDP.i18n] ";function initializeI18N(settings){return new Promise(function(resolve){var i18nSettings=settings||{};var i18nOptions=function(resources){if(resources){for(var lng in resources){if(resources.hasOwnProperty(lng)){for(var ns in resources[lng]){if(resources[lng].hasOwnProperty(ns)){resources[lng][ns]=getLocaleFallbackResource(resources[lng][ns])}}}}i18nSettings.options.resources=resources;return i18nSettings.options}else{return i18nSettings.options}}(i18nSettings.fallbackResources);new Promise(function(resolve){resolve()}).then(function(){var __WEBPACK_AMD_REQUIRE_ARRAY__=[__webpack_require__(4)];(function($18Next){new Promise(function(resolve){resolve()}).then(function(){var __WEBPACK_AMD_REQUIRE_ARRAY__=[__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(8),__webpack_require__(9)];(function(i18next,Backend,Cache,PostProcessor,LanguageDetector){i18next.use(Backend).use(Cache).use(PostProcessor).use(LanguageDetector).init(i18nOptions,function(error,t){$18Next.init(i18next,$,{tName:"t",i18nName:"i18n",handleName:"localize",selectorAttr:"data-i18n",targetAttr:"i18n-target",optionsAttr:"i18n-options",useOptionsAttr:false,parseDefaultValueFromContent:true});if(i18next.options.resources&&i18next.options.preload){var _preload_1=i18next.options.preload;var _resources_1=i18next.options.resources;delete i18next.options.resources;delete i18next.options.preload;i18next.loadLanguages(_preload_1,function(){i18next.options.resources=_resources_1;i18next.options.preload=_preload_1;CDP.i18n=i18next;resolve()})}else{CDP.i18n=i18next;resolve()}})}).apply(null,__WEBPACK_AMD_REQUIRE_ARRAY__)}).catch(__webpack_require__.oe)}).apply(null,__WEBPACK_AMD_REQUIRE_ARRAY__)}).catch(__webpack_require__.oe)})}CDP.initializeI18N=initializeI18N;function getLocaleFallbackResource(path){var json;$.ajax({url:toUrl(path),method:"GET",async:false,dataType:"json",success:function(data){json=data},error:function(xhr,status){console.log(TAG+"ajax request failed. status: "+status)}});return json}function toUrl(path){if(!path&&"/"!==path[0]){console.error(TAG+"invalid path. path: "+path)}else{return CDP.webRoot+path.slice(1)}}})(CDP||(CDP={}));return CDP})},function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_1__},function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_2__},function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_3__},function(module,exports,__webpack_require__){(function(global,factory){true?module.exports=factory():typeof define==="function"&&define.amd?define(factory):global.jqueryI18next=factory()})(this,function(){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var defaults={tName:"t",i18nName:"i18n",handleName:"localize",selectorAttr:"data-i18n",targetAttr:"i18n-target",optionsAttr:"i18n-options",useOptionsAttr:false,parseDefaultValueFromContent:true};function init(i18next,$){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};options=_extends({},defaults,options);function parse(ele,key,opts){if(key.length===0)return;var attr="text";if(key.indexOf("[")===0){var parts=key.split("]");key=parts[1];attr=parts[0].substr(1,parts[0].length-1)}if(key.indexOf(";")===key.length-1){key=key.substr(0,key.length-2)}function extendDefault(o,val){if(!options.parseDefaultValueFromContent)return o;return _extends({},o,{defaultValue:val})}if(attr==="html"){ele.html(i18next.t(key,extendDefault(opts,ele.html())))}else if(attr==="text"){ele.text(i18next.t(key,extendDefault(opts,ele.text())))}else if(attr==="prepend"){ele.prepend(i18next.t(key,extendDefault(opts,ele.html())))}else if(attr==="append"){ele.append(i18next.t(key,extendDefault(opts,ele.html())))}else if(attr.indexOf("data-")===0){var dataAttr=attr.substr("data-".length);var translated=i18next.t(key,extendDefault(opts,ele.data(dataAttr)));ele.data(dataAttr,translated);ele.attr(attr,translated)}else{ele.attr(attr,i18next.t(key,extendDefault(opts,ele.attr(attr))))}}function localize(ele,opts){var key=ele.attr(options.selectorAttr);if(!key&&typeof key!=="undefined"&&key!==false)key=ele.text()||ele.val();if(!key)return;var target=ele,targetSelector=ele.data(options.targetAttr);if(targetSelector)target=ele.find(targetSelector)||ele;if(!opts&&options.useOptionsAttr===true)opts=ele.data(options.optionsAttr);opts=opts||{};if(key.indexOf(";")>=0){var keys=key.split(";");$.each(keys,function(m,k){if(k!=="")parse(target,k,opts)})}else{parse(target,key,opts)}if(options.useOptionsAttr===true){var clone={};clone=_extends({clone:clone},opts);delete clone.lng;ele.data(options.optionsAttr,clone)}}function handle(opts){return this.each(function(){localize($(this),opts);var elements=$(this).find("["+options.selectorAttr+"]");elements.each(function(){localize($(this),opts)})})}$[options.tName]=i18next.t.bind(i18next);$[options.i18nName]=i18next;$.fn[options.handleName]=handle}var index={init:init};return index})},function(module,exports,__webpack_require__){(function(global,factory){true?module.exports=factory():typeof define==="function"&&define.amd?define(factory):global.i18next=factory()})(this,function(){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}};var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var inherits=function(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass};var possibleConstructorReturn=function(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self};var slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var toConsumableArray=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}else{return Array.from(arr)}};var consoleLogger={type:"logger",log:function log(args){this.output("log",args)},warn:function warn(args){this.output("warn",args)},error:function error(args){this.output("error",args)},output:function output(type,args){var _console;if(console&&console[type])(_console=console)[type].apply(_console,toConsumableArray(args))}};var Logger=function(){function Logger(concreteLogger){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};classCallCheck(this,Logger);this.init(concreteLogger,options)}Logger.prototype.init=function init(concreteLogger){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.prefix=options.prefix||"i18next:";this.logger=concreteLogger||consoleLogger;this.options=options;this.debug=options.debug};Logger.prototype.setDebug=function setDebug(bool){this.debug=bool};Logger.prototype.log=function log(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return this.forward(args,"log","",true)};Logger.prototype.warn=function warn(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}return this.forward(args,"warn","",true)};Logger.prototype.error=function error(){for(var _len3=arguments.length,args=Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3]}return this.forward(args,"error","")};Logger.prototype.deprecate=function deprecate(){for(var _len4=arguments.length,args=Array(_len4),_key4=0;_key4<_len4;_key4++){args[_key4]=arguments[_key4]}return this.forward(args,"warn","WARNING DEPRECATED: ",true)};Logger.prototype.forward=function forward(args,lvl,prefix,debugOnly){if(debugOnly&&!this.debug)return null;if(typeof args[0]==="string")args[0]=""+prefix+this.prefix+" "+args[0];return this.logger[lvl](args)};Logger.prototype.create=function create(moduleName){return new Logger(this.logger,_extends({prefix:this.prefix+":"+moduleName+":"},this.options))};return Logger}();var baseLogger=new Logger;var EventEmitter=function(){function EventEmitter(){classCallCheck(this,EventEmitter);this.observers={}}EventEmitter.prototype.on=function on(events,listener){var _this=this;events.split(" ").forEach(function(event){_this.observers[event]=_this.observers[event]||[];_this.observers[event].push(listener)})};EventEmitter.prototype.off=function off(event,listener){var _this2=this;if(!this.observers[event]){return}this.observers[event].forEach(function(){if(!listener){delete _this2.observers[event]}else{var index=_this2.observers[event].indexOf(listener);if(index>-1){_this2.observers[event].splice(index,1)}}})};EventEmitter.prototype.emit=function emit(event){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}if(this.observers[event]){var cloned=[].concat(this.observers[event]);cloned.forEach(function(observer){observer.apply(undefined,args)})}if(this.observers["*"]){var _cloned=[].concat(this.observers["*"]);_cloned.forEach(function(observer){var _ref;observer.apply(observer,(_ref=[event]).concat.apply(_ref,args))})}};return EventEmitter}();function makeString(object){if(object==null)return"";return""+object}function copy(a,s,t){a.forEach(function(m){if(s[m])t[m]=s[m]})}function getLastOfPath(object,path,Empty){function cleanKey(key){return key&&key.indexOf("###")>-1?key.replace(/###/g,"."):key}function canNotTraverseDeeper(){return!object||typeof object==="string"}var stack=typeof path!=="string"?[].concat(path):path.split(".");while(stack.length>1){if(canNotTraverseDeeper())return{};var key=cleanKey(stack.shift());if(!object[key]&&Empty)object[key]=new Empty;object=object[key]}if(canNotTraverseDeeper())return{};return{obj:object,k:cleanKey(stack.shift())}}function setPath(object,path,newValue){var _getLastOfPath=getLastOfPath(object,path,Object),obj=_getLastOfPath.obj,k=_getLastOfPath.k;obj[k]=newValue}function pushPath(object,path,newValue,concat){var _getLastOfPath2=getLastOfPath(object,path,Object),obj=_getLastOfPath2.obj,k=_getLastOfPath2.k;obj[k]=obj[k]||[];if(concat)obj[k]=obj[k].concat(newValue);if(!concat)obj[k].push(newValue)}function getPath(object,path){var _getLastOfPath3=getLastOfPath(object,path),obj=_getLastOfPath3.obj,k=_getLastOfPath3.k;if(!obj)return undefined;return obj[k]}function deepExtend(target,source,overwrite){for(var prop in source){if(prop in target){if(typeof target[prop]==="string"||target[prop]instanceof String||typeof source[prop]==="string"||source[prop]instanceof String){if(overwrite)target[prop]=source[prop]}else{deepExtend(target[prop],source[prop],overwrite)}}else{target[prop]=source[prop]}}return target}function regexEscape(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function escape(data){if(typeof data==="string"){return data.replace(/[&<>"'\/]/g,function(s){return _entityMap[s]})}return data}var ResourceStore=function(_EventEmitter){inherits(ResourceStore,_EventEmitter);function ResourceStore(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{ns:["translation"],defaultNS:"translation"};classCallCheck(this,ResourceStore);var _this=possibleConstructorReturn(this,_EventEmitter.call(this));_this.data=data;_this.options=options;return _this}ResourceStore.prototype.addNamespaces=function addNamespaces(ns){if(this.options.ns.indexOf(ns)<0){this.options.ns.push(ns)}};ResourceStore.prototype.removeNamespaces=function removeNamespaces(ns){var index=this.options.ns.indexOf(ns);if(index>-1){this.options.ns.splice(index,1)}};ResourceStore.prototype.getResource=function getResource(lng,ns,key){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var keySeparator=options.keySeparator||this.options.keySeparator;if(keySeparator===undefined)keySeparator=".";var path=[lng,ns];if(key&&typeof key!=="string")path=path.concat(key);if(key&&typeof key==="string")path=path.concat(keySeparator?key.split(keySeparator):key);if(lng.indexOf(".")>-1){path=lng.split(".")}return getPath(this.data,path)};ResourceStore.prototype.addResource=function addResource(lng,ns,key,value){var options=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{silent:false};var keySeparator=this.options.keySeparator;if(keySeparator===undefined)keySeparator=".";var path=[lng,ns];if(key)path=path.concat(keySeparator?key.split(keySeparator):key);if(lng.indexOf(".")>-1){path=lng.split(".");value=ns;ns=path[1]}this.addNamespaces(ns);setPath(this.data,path,value);if(!options.silent)this.emit("added",lng,ns,key,value)};ResourceStore.prototype.addResources=function addResources(lng,ns,resources){for(var m in resources){if(typeof resources[m]==="string")this.addResource(lng,ns,m,resources[m],{silent:true})}this.emit("added",lng,ns,resources)};ResourceStore.prototype.addResourceBundle=function addResourceBundle(lng,ns,resources,deep,overwrite){var path=[lng,ns];if(lng.indexOf(".")>-1){path=lng.split(".");deep=resources;resources=ns;ns=path[1]}this.addNamespaces(ns);var pack=getPath(this.data,path)||{};if(deep){deepExtend(pack,resources,overwrite)}else{pack=_extends({},pack,resources)}setPath(this.data,path,pack);this.emit("added",lng,ns,resources)};ResourceStore.prototype.removeResourceBundle=function removeResourceBundle(lng,ns){if(this.hasResourceBundle(lng,ns)){delete this.data[lng][ns]}this.removeNamespaces(ns);this.emit("removed",lng,ns)};ResourceStore.prototype.hasResourceBundle=function hasResourceBundle(lng,ns){return this.getResource(lng,ns)!==undefined};ResourceStore.prototype.getResourceBundle=function getResourceBundle(lng,ns){if(!ns)ns=this.options.defaultNS;if(this.options.compatibilityAPI==="v1")return _extends({},this.getResource(lng,ns));return this.getResource(lng,ns)};ResourceStore.prototype.toJSON=function toJSON(){return this.data};return ResourceStore}(EventEmitter);var postProcessor={processors:{},addPostProcessor:function addPostProcessor(module){this.processors[module.name]=module},handle:function handle(processors,value,key,options,translator){var _this=this;processors.forEach(function(processor){if(_this.processors[processor])value=_this.processors[processor].process(value,key,options,translator)});return value}};function convertInterpolation(options){options.interpolation={unescapeSuffix:"HTML"};options.interpolation.prefix=options.interpolationPrefix||"__";options.interpolation.suffix=options.interpolationSuffix||"__";options.interpolation.escapeValue=options.escapeInterpolation||false;options.interpolation.nestingPrefix=options.reusePrefix||"$t(";options.interpolation.nestingSuffix=options.reuseSuffix||")";return options}function convertAPIOptions(options){if(options.resStore)options.resources=options.resStore;if(options.ns&&options.ns.defaultNs){options.defaultNS=options.ns.defaultNs;options.ns=options.ns.namespaces}else{options.defaultNS=options.ns||"translation"}if(options.fallbackToDefaultNS&&options.defaultNS)options.fallbackNS=options.defaultNS;options.saveMissing=options.sendMissing;options.saveMissingTo=options.sendMissingTo||"current";options.returnNull=!options.fallbackOnNull;options.returnEmptyString=!options.fallbackOnEmpty;options.returnObjects=options.returnObjectTrees;options.joinArrays="\n";options.returnedObjectHandler=options.objectTreeKeyHandler;options.parseMissingKeyHandler=options.parseMissingKey;options.appendNamespaceToMissingKey=true;options.nsSeparator=options.nsseparator||":";options.keySeparator=options.keyseparator||".";if(options.shortcutFunction==="sprintf"){options.overloadTranslationOptionHandler=function handle(args){var values=[];for(var i=1;i<args.length;i++){values.push(args[i])}return{postProcess:"sprintf",sprintf:values}}}options.whitelist=options.lngWhitelist;options.preload=options.preload;if(options.load==="current")options.load="currentOnly";if(options.load==="unspecific")options.load="languageOnly";options.backend=options.backend||{};options.backend.loadPath=options.resGetPath||"locales/__lng__/__ns__.json";options.backend.addPath=options.resPostPath||"locales/add/__lng__/__ns__";options.backend.allowMultiLoading=options.dynamicLoad;options.cache=options.cache||{};options.cache.prefix="res_";options.cache.expirationTime=7*24*60*60*1e3;options.cache.enabled=options.useLocalStorage;options=convertInterpolation(options);if(options.defaultVariables)options.interpolation.defaultVariables=options.defaultVariables;return options}function convertJSONOptions(options){options=convertInterpolation(options);options.joinArrays="\n";return options}function convertTOptions(options){if(options.interpolationPrefix||options.interpolationSuffix||options.escapeInterpolation!==undefined){options=convertInterpolation(options)}options.nsSeparator=options.nsseparator;options.keySeparator=options.keyseparator;options.returnObjects=options.returnObjectTrees;return options}function appendBackwardsAPI(i18n){i18n.lng=function(){baseLogger.deprecate("i18next.lng() can be replaced by i18next.language for detected language or i18next.languages for languages ordered by translation lookup.");return i18n.services.languageUtils.toResolveHierarchy(i18n.language)[0]};i18n.preload=function(lngs,cb){baseLogger.deprecate("i18next.preload() can be replaced with i18next.loadLanguages()");i18n.loadLanguages(lngs,cb)};i18n.setLng=function(lng,options,callback){baseLogger.deprecate("i18next.setLng() can be replaced with i18next.changeLanguage() or i18next.getFixedT() to get a translation function with fixed language or namespace.");if(typeof options==="function"){callback=options;options={}}if(!options)options={};if(options.fixLng===true){if(callback)return callback(null,i18n.getFixedT(lng))}return i18n.changeLanguage(lng,callback)};i18n.addPostProcessor=function(name,fc){baseLogger.deprecate("i18next.addPostProcessor() can be replaced by i18next.use({ type: 'postProcessor', name: 'name', process: fc })");i18n.use({type:"postProcessor",name:name,process:fc})}}var Translator=function(_EventEmitter){inherits(Translator,_EventEmitter);function Translator(services){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};classCallCheck(this,Translator);var _this=possibleConstructorReturn(this,_EventEmitter.call(this));copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"],services,_this);_this.options=options;_this.logger=baseLogger.create("translator");return _this}Translator.prototype.changeLanguage=function changeLanguage(lng){if(lng)this.language=lng};Translator.prototype.exists=function exists(key){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{interpolation:{}};if(this.options.compatibilityAPI==="v1"){options=convertTOptions(options)}return this.resolve(key,options)!==undefined};Translator.prototype.extractFromKey=function extractFromKey(key,options){var nsSeparator=options.nsSeparator||this.options.nsSeparator;if(nsSeparator===undefined)nsSeparator=":";var keySeparator=options.keySeparator||this.options.keySeparator||".";var namespaces=options.ns||this.options.defaultNS;if(nsSeparator&&key.indexOf(nsSeparator)>-1){var parts=key.split(nsSeparator);if(nsSeparator!==keySeparator||nsSeparator===keySeparator&&this.options.ns.indexOf(parts[0])>-1)namespaces=parts.shift();key=parts.join(keySeparator)}if(typeof namespaces==="string")namespaces=[namespaces];return{key:key,namespaces:namespaces}};Translator.prototype.translate=function translate(keys){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if((typeof options==="undefined"?"undefined":_typeof(options))!=="object"){options=this.options.overloadTranslationOptionHandler(arguments)}else if(this.options.compatibilityAPI==="v1"){options=convertTOptions(options)}if(keys===undefined||keys===null||keys==="")return"";if(typeof keys==="number")keys=String(keys);if(typeof keys==="string")keys=[keys];var keySeparator=options.keySeparator||this.options.keySeparator||".";var _extractFromKey=this.extractFromKey(keys[keys.length-1],options),key=_extractFromKey.key,namespaces=_extractFromKey.namespaces;var namespace=namespaces[namespaces.length-1];var lng=options.lng||this.language;var appendNamespaceToCIMode=options.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(lng&&lng.toLowerCase()==="cimode"){if(appendNamespaceToCIMode){var nsSeparator=options.nsSeparator||this.options.nsSeparator;return namespace+nsSeparator+key}return key}var res=this.resolve(keys,options);var resType=Object.prototype.toString.apply(res);var noObject=["[object Number]","[object Function]","[object RegExp]"];var joinArrays=options.joinArrays!==undefined?options.joinArrays:this.options.joinArrays;if(res&&typeof res!=="string"&&noObject.indexOf(resType)<0&&!(joinArrays&&resType==="[object Array]")){if(!options.returnObjects&&!this.options.returnObjects){this.logger.warn("accessing an object - but returnObjects options is not enabled!");return this.options.returnedObjectHandler?this.options.returnedObjectHandler(key,res,options):"key '"+key+" ("+this.language+")' returned an object instead of string."}if(options.keySeparator||this.options.keySeparator){var copy$$1=resType==="[object Array]"?[]:{};for(var m in res){if(Object.prototype.hasOwnProperty.call(res,m)){copy$$1[m]=this.translate(""+key+keySeparator+m,_extends({},options,{joinArrays:false,ns:namespaces}))}}res=copy$$1}}else if(joinArrays&&resType==="[object Array]"){res=res.join(joinArrays);if(res)res=this.extendTranslation(res,key,options)}else{var usedDefault=false;var usedKey=false;if(!this.isValidLookup(res)&&options.defaultValue!==undefined){usedDefault=true;res=options.defaultValue}if(!this.isValidLookup(res)){usedKey=true;res=key}if(usedKey||usedDefault){this.logger.log("missingKey",lng,namespace,key,res);var lngs=[];var fallbackLngs=this.languageUtils.getFallbackCodes(this.options.fallbackLng,options.lng||this.language);if(this.options.saveMissingTo==="fallback"&&fallbackLngs&&fallbackLngs[0]){for(var i=0;i<fallbackLngs.length;i++){lngs.push(fallbackLngs[i])}}else if(this.options.saveMissingTo==="all"){lngs=this.languageUtils.toResolveHierarchy(options.lng||this.language)}else{lngs.push(options.lng||this.language)}if(this.options.saveMissing){if(this.options.missingKeyHandler){this.options.missingKeyHandler(lngs,namespace,key,res)}else if(this.backendConnector&&this.backendConnector.saveMissing){this.backendConnector.saveMissing(lngs,namespace,key,res)}}this.emit("missingKey",lngs,namespace,key,res)}res=this.extendTranslation(res,key,options);if(usedKey&&res===key&&this.options.appendNamespaceToMissingKey)res=namespace+":"+key;if(usedKey&&this.options.parseMissingKeyHandler)res=this.options.parseMissingKeyHandler(res)}return res};Translator.prototype.extendTranslation=function extendTranslation(res,key,options){var _this2=this;if(options.interpolation)this.interpolator.init(_extends({},options,{interpolation:_extends({},this.options.interpolation,options.interpolation)}));var data=options.replace&&typeof options.replace!=="string"?options.replace:options;if(this.options.interpolation.defaultVariables)data=_extends({},this.options.interpolation.defaultVariables,data);res=this.interpolator.interpolate(res,data,options.lng||this.language);if(options.nest!==false)res=this.interpolator.nest(res,function(){return _this2.translate.apply(_this2,arguments)},options);if(options.interpolation)this.interpolator.reset();var postProcess=options.postProcess||this.options.postProcess;var postProcessorNames=typeof postProcess==="string"?[postProcess]:postProcess;if(res!==undefined&&postProcessorNames&&postProcessorNames.length&&options.applyPostProcessor!==false){res=postProcessor.handle(postProcessorNames,res,key,options,this)}return res};Translator.prototype.resolve=function resolve(keys){var _this3=this;var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var found=void 0;if(typeof keys==="string")keys=[keys];keys.forEach(function(k){if(_this3.isValidLookup(found))return;var extracted=_this3.extractFromKey(k,options);var key=extracted.key;var namespaces=extracted.namespaces;if(_this3.options.fallbackNS)namespaces=namespaces.concat(_this3.options.fallbackNS);var needsPluralHandling=options.count!==undefined&&typeof options.count!=="string";var needsContextHandling=options.context!==undefined&&typeof options.context==="string"&&options.context!=="";var codes=options.lngs?options.lngs:_this3.languageUtils.toResolveHierarchy(options.lng||_this3.language);namespaces.forEach(function(ns){if(_this3.isValidLookup(found))return;codes.forEach(function(code){if(_this3.isValidLookup(found))return;var finalKey=key;var finalKeys=[finalKey];var pluralSuffix=void 0;if(needsPluralHandling)pluralSuffix=_this3.pluralResolver.getSuffix(code,options.count);if(needsPluralHandling&&needsContextHandling)finalKeys.push(finalKey+pluralSuffix);if(needsContextHandling)finalKeys.push(finalKey+=""+_this3.options.contextSeparator+options.context);if(needsPluralHandling)finalKeys.push(finalKey+=pluralSuffix);var possibleKey=void 0;while(possibleKey=finalKeys.pop()){if(!_this3.isValidLookup(found)){found=_this3.getResource(code,ns,possibleKey,options)}}})})});return found};Translator.prototype.isValidLookup=function isValidLookup(res){return res!==undefined&&!(!this.options.returnNull&&res===null)&&!(!this.options.returnEmptyString&&res==="")};Translator.prototype.getResource=function getResource(code,ns,key){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};return this.resourceStore.getResource(code,ns,key,options)};return Translator}(EventEmitter);function capitalize(string){return string.charAt(0).toUpperCase()+string.slice(1)}var LanguageUtil=function(){function LanguageUtil(options){classCallCheck(this,LanguageUtil);this.options=options;this.whitelist=this.options.whitelist||false;this.logger=baseLogger.create("languageUtils")}LanguageUtil.prototype.getScriptPartFromCode=function getScriptPartFromCode(code){if(!code||code.indexOf("-")<0)return null;var p=code.split("-");if(p.length===2)return null;p.pop();return this.formatLanguageCode(p.join("-"))};LanguageUtil.prototype.getLanguagePartFromCode=function getLanguagePartFromCode(code){if(!code||code.indexOf("-")<0)return code;var p=code.split("-");return this.formatLanguageCode(p[0])};LanguageUtil.prototype.formatLanguageCode=function formatLanguageCode(code){if(typeof code==="string"&&code.indexOf("-")>-1){var specialCases=["hans","hant","latn","cyrl","cans","mong","arab"];var p=code.split("-");if(this.options.lowerCaseLng){p=p.map(function(part){return part.toLowerCase()})}else if(p.length===2){p[0]=p[0].toLowerCase();p[1]=p[1].toUpperCase();if(specialCases.indexOf(p[1].toLowerCase())>-1)p[1]=capitalize(p[1].toLowerCase())}else if(p.length===3){p[0]=p[0].toLowerCase();if(p[1].length===2)p[1]=p[1].toUpperCase();if(p[0]!=="sgn"&&p[2].length===2)p[2]=p[2].toUpperCase();if(specialCases.indexOf(p[1].toLowerCase())>-1)p[1]=capitalize(p[1].toLowerCase());if(specialCases.indexOf(p[2].toLowerCase())>-1)p[2]=capitalize(p[2].toLowerCase())}return p.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?code.toLowerCase():code};LanguageUtil.prototype.isWhitelisted=function isWhitelisted(code){if(this.options.load==="languageOnly"||this.options.nonExplicitWhitelist){code=this.getLanguagePartFromCode(code)}return!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(code)>-1};LanguageUtil.prototype.getFallbackCodes=function getFallbackCodes(fallbacks,code){if(!fallbacks)return[];if(typeof fallbacks==="string")fallbacks=[fallbacks];if(Object.prototype.toString.apply(fallbacks)==="[object Array]")return fallbacks;if(!code)return fallbacks.default||[];var found=fallbacks[code];if(!found)found=fallbacks[this.getScriptPartFromCode(code)];if(!found)found=fallbacks[this.formatLanguageCode(code)];if(!found)found=fallbacks.default;return found||[]};LanguageUtil.prototype.toResolveHierarchy=function toResolveHierarchy(code,fallbackCode){var _this=this;var fallbackCodes=this.getFallbackCodes(fallbackCode||this.options.fallbackLng||[],code);var codes=[];var addCode=function addCode(c){if(!c)return;if(_this.isWhitelisted(c)){codes.push(c)}else{_this.logger.warn("rejecting non-whitelisted language code: "+c)}};if(typeof code==="string"&&code.indexOf("-")>-1){if(this.options.load!=="languageOnly")addCode(this.formatLanguageCode(code));if(this.options.load!=="languageOnly"&&this.options.load!=="currentOnly")addCode(this.getScriptPartFromCode(code));if(this.options.load!=="currentOnly")addCode(this.getLanguagePartFromCode(code))}else if(typeof code==="string"){addCode(this.formatLanguageCode(code))}fallbackCodes.forEach(function(fc){if(codes.indexOf(fc)<0)addCode(_this.formatLanguageCode(fc))});return codes};return LanguageUtil}();var sets=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","es_ar","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt","pt_br","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}];var _rulesPluralsTypes={1:function _(n){return Number(n>1)},2:function _(n){return Number(n!=1)},3:function _(n){return 0},4:function _(n){return Number(n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2)},5:function _(n){return Number(n===0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5)},6:function _(n){return Number(n==1?0:n>=2&&n<=4?1:2)},7:function _(n){return Number(n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2)},8:function _(n){return Number(n==1?0:n==2?1:n!=8&&n!=11?2:3)},9:function _(n){return Number(n>=2)},10:function _(n){return Number(n==1?0:n==2?1:n<7?2:n<11?3:4)},11:function _(n){return Number(n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3)},12:function _(n){return Number(n%10!=1||n%100==11)},13:function _(n){return Number(n!==0)},14:function _(n){return Number(n==1?0:n==2?1:n==3?2:3)},15:function _(n){return Number(n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2)},16:function _(n){return Number(n%10==1&&n%100!=11?0:n!==0?1:2)},17:function _(n){return Number(n==1||n%10==1?0:1)},18:function _(n){return Number(n==0?0:n==1?1:2)},19:function _(n){return Number(n==1?0:n===0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3)},20:function _(n){return Number(n==1?0:n===0||n%100>0&&n%100<20?1:2)},21:function _(n){return Number(n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0)}};function createRules(){var rules={};sets.forEach(function(set$$1){set$$1.lngs.forEach(function(l){rules[l]={numbers:set$$1.nr,plurals:_rulesPluralsTypes[set$$1.fc]}})});return rules}var PluralResolver=function(){function PluralResolver(languageUtils){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};classCallCheck(this,PluralResolver);this.languageUtils=languageUtils;this.options=options;this.logger=baseLogger.create("pluralResolver");this.rules=createRules()}PluralResolver.prototype.addRule=function addRule(lng,obj){this.rules[lng]=obj};PluralResolver.prototype.getRule=function getRule(code){return this.rules[this.languageUtils.getLanguagePartFromCode(code)]};PluralResolver.prototype.needsPlural=function needsPlural(code){var rule=this.getRule(code);return rule&&rule.numbers.length>1};PluralResolver.prototype.getSuffix=function getSuffix(code,count){var _this=this;var rule=this.getRule(code);if(rule){var _ret=function(){if(rule.numbers.length===1)return{v:""};var idx=rule.noAbs?rule.plurals(count):rule.plurals(Math.abs(count));var suffix=rule.numbers[idx];if(_this.options.simplifyPluralSuffix&&rule.numbers.length===2&&rule.numbers[0]===1){if(suffix===2){suffix="plural"}else if(suffix===1){suffix=""}}var returnSuffix=function returnSuffix(){return _this.options.prepend&&suffix.toString()?_this.options.prepend+suffix.toString():suffix.toString()};if(_this.options.compatibilityJSON==="v1"){if(suffix===1)return{v:""};if(typeof suffix==="number")return{v:"_plural_"+suffix.toString()};return{v:returnSuffix()}}else if(_this.options.compatibilityJSON==="v2"||rule.numbers.length===2&&rule.numbers[0]===1){return{v:returnSuffix()}}else if(rule.numbers.length===2&&rule.numbers[0]===1){return{v:returnSuffix()}}return{v:_this.options.prepend&&idx.toString()?_this.options.prepend+idx.toString():idx.toString()}}();if((typeof _ret==="undefined"?"undefined":_typeof(_ret))==="object")return _ret.v}this.logger.warn("no plural rule found for: "+code);return""};return PluralResolver}();var Interpolator=function(){function Interpolator(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};classCallCheck(this,Interpolator);this.logger=baseLogger.create("interpolator");this.init(options,true)}Interpolator.prototype.init=function init(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var reset=arguments[1];if(reset){this.options=options;this.format=options.interpolation&&options.interpolation.format||function(value){return value};this.escape=options.interpolation&&options.interpolation.escape||escape}if(!options.interpolation)options.interpolation={escapeValue:true};var iOpts=options.interpolation;this.escapeValue=iOpts.escapeValue!==undefined?iOpts.escapeValue:true;this.prefix=iOpts.prefix?regexEscape(iOpts.prefix):iOpts.prefixEscaped||"{{";this.suffix=iOpts.suffix?regexEscape(iOpts.suffix):iOpts.suffixEscaped||"}}";this.formatSeparator=iOpts.formatSeparator?iOpts.formatSeparator:iOpts.formatSeparator||",";this.unescapePrefix=iOpts.unescapeSuffix?"":iOpts.unescapePrefix||"-";this.unescapeSuffix=this.unescapePrefix?"":iOpts.unescapeSuffix||"";this.nestingPrefix=iOpts.nestingPrefix?regexEscape(iOpts.nestingPrefix):iOpts.nestingPrefixEscaped||regexEscape("$t(");this.nestingSuffix=iOpts.nestingSuffix?regexEscape(iOpts.nestingSuffix):iOpts.nestingSuffixEscaped||regexEscape(")");this.resetRegExp()};Interpolator.prototype.reset=function reset(){if(this.options)this.init(this.options)};Interpolator.prototype.resetRegExp=function resetRegExp(){var regexpStr=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(regexpStr,"g");var regexpUnescapeStr=""+this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(regexpUnescapeStr,"g");var nestingRegexpStr=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(nestingRegexpStr,"g")};Interpolator.prototype.interpolate=function interpolate(str,data,lng){var _this=this;var match=void 0;var value=void 0;function regexSafe(val){return val.replace(/\$/g,"$$$$")}var handleFormat=function handleFormat(key){if(key.indexOf(_this.formatSeparator)<0)return getPath(data,key);var p=key.split(_this.formatSeparator);var k=p.shift().trim();var f=p.join(_this.formatSeparator).trim();return _this.format(getPath(data,k),f,lng)};this.resetRegExp();while(match=this.regexpUnescape.exec(str)){value=handleFormat(match[1].trim());str=str.replace(match[0],value);this.regexpUnescape.lastIndex=0}while(match=this.regexp.exec(str)){value=handleFormat(match[1].trim());if(typeof value!=="string")value=makeString(value);if(!value){this.logger.warn("missed to pass in variable "+match[1]+" for interpolating "+str);value=""}value=this.escapeValue?regexSafe(this.escape(value)):regexSafe(value);str=str.replace(match[0],value);this.regexp.lastIndex=0}return str};Interpolator.prototype.nest=function nest(str,fc){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var match=void 0;var value=void 0;var clonedOptions=_extends({},options);clonedOptions.applyPostProcessor=false;function handleHasOptions(key){if(key.indexOf(",")<0)return key;var p=key.split(",");key=p.shift();var optionsString=p.join(",");optionsString=this.interpolate(optionsString,clonedOptions);optionsString=optionsString.replace(/'/g,'"');try{clonedOptions=JSON.parse(optionsString)}catch(e){this.logger.error("failed parsing options string in nesting for key "+key,e)}return key}while(match=this.nestingRegexp.exec(str)){value=fc(handleHasOptions.call(this,match[1].trim()),clonedOptions);if(value&&match[0]===str&&typeof value!=="string")return value;if(typeof value!=="string")value=makeString(value);if(!value){this.logger.warn("missed to resolve "+match[1]+" for nesting "+str);value=""}str=str.replace(match[0],value);this.regexp.lastIndex=0}return str};return Interpolator}();function remove(arr,what){var found=arr.indexOf(what);while(found!==-1){arr.splice(found,1);found=arr.indexOf(what)}}var Connector=function(_EventEmitter){inherits(Connector,_EventEmitter);function Connector(backend,store,services){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};classCallCheck(this,Connector);var _this=possibleConstructorReturn(this,_EventEmitter.call(this));_this.backend=backend;_this.store=store;_this.services=services;_this.options=options;_this.logger=baseLogger.create("backendConnector");_this.state={};_this.queue=[];if(_this.backend&&_this.backend.init){_this.backend.init(services,options.backend,options)}return _this}Connector.prototype.queueLoad=function queueLoad(languages,namespaces,callback){var _this2=this;var toLoad=[];var pending=[];var toLoadLanguages=[];var toLoadNamespaces=[];languages.forEach(function(lng){var hasAllNamespaces=true;namespaces.forEach(function(ns){var name=lng+"|"+ns;if(_this2.store.hasResourceBundle(lng,ns)){_this2.state[name]=2}else if(_this2.state[name]<0){}else if(_this2.state[name]===1){if(pending.indexOf(name)<0)pending.push(name)}else{_this2.state[name]=1;hasAllNamespaces=false;if(pending.indexOf(name)<0)pending.push(name);if(toLoad.indexOf(name)<0)toLoad.push(name);if(toLoadNamespaces.indexOf(ns)<0)toLoadNamespaces.push(ns)}});if(!hasAllNamespaces)toLoadLanguages.push(lng)});if(toLoad.length||pending.length){this.queue.push({pending:pending,loaded:{},errors:[],callback:callback})}return{toLoad:toLoad,pending:pending,toLoadLanguages:toLoadLanguages,toLoadNamespaces:toLoadNamespaces}};Connector.prototype.loaded=function loaded(name,err,data){var _this3=this;var _name$split=name.split("|"),_name$split2=slicedToArray(_name$split,2),lng=_name$split2[0],ns=_name$split2[1];if(err)this.emit("failedLoading",lng,ns,err);if(data){this.store.addResourceBundle(lng,ns,data)}this.state[name]=err?-1:2;this.queue.forEach(function(q){pushPath(q.loaded,[lng],ns);remove(q.pending,name);if(err)q.errors.push(err);if(q.pending.length===0&&!q.done){_this3.emit("loaded",q.loaded);q.done=true;if(q.errors.length){q.callback(q.errors)}else{q.callback()}}});this.queue=this.queue.filter(function(q){return!q.done})};Connector.prototype.read=function read(lng,ns,fcName){var tried=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var _this4=this;var wait=arguments.length>4&&arguments[4]!==undefined?arguments[4]:250;var callback=arguments[5];if(!lng.length)return callback(null,{});return this.backend[fcName](lng,ns,function(err,data){if(err&&data&&tried<5){setTimeout(function(){_this4.read.call(_this4,lng,ns,fcName,tried+1,wait*2,callback)},wait);return}callback(err,data)})};Connector.prototype.load=function load(languages,namespaces,callback){var _this5=this;if(!this.backend){this.logger.warn("No backend was added via i18next.use. Will not load resources.");return callback&&callback()}var options=_extends({},this.backend.options,this.options.backend);if(typeof languages==="string")languages=this.services.languageUtils.toResolveHierarchy(languages);if(typeof namespaces==="string")namespaces=[namespaces];var toLoad=this.queueLoad(languages,namespaces,callback);if(!toLoad.toLoad.length){if(!toLoad.pending.length)callback();return null}if(options.allowMultiLoading&&this.backend.readMulti){this.read(toLoad.toLoadLanguages,toLoad.toLoadNamespaces,"readMulti",null,null,function(err,data){if(err)_this5.logger.warn("loading namespaces "+toLoad.toLoadNamespaces.join(", ")+" for languages "+toLoad.toLoadLanguages.join(", ")+" via multiloading failed",err);if(!err&&data)_this5.logger.log("successfully loaded namespaces "+toLoad.toLoadNamespaces.join(", ")+" for languages "+toLoad.toLoadLanguages.join(", ")+" via multiloading",data);toLoad.toLoad.forEach(function(name){var _name$split3=name.split("|"),_name$split4=slicedToArray(_name$split3,2),l=_name$split4[0],n=_name$split4[1];var bundle=getPath(data,[l,n]);if(bundle){_this5.loaded(name,err,bundle)}else{var error="loading namespace "+n+" for language "+l+" via multiloading failed";_this5.loaded(name,error);_this5.logger.error(error)}})})}else{toLoad.toLoad.forEach(function(name){_this5.loadOne(name)})}};Connector.prototype.reload=function reload(languages,namespaces){var _this6=this;if(!this.backend){this.logger.warn("No backend was added via i18next.use. Will not load resources.")}var options=_extends({},this.backend.options,this.options.backend);if(typeof languages==="string")languages=this.services.languageUtils.toResolveHierarchy(languages);if(typeof namespaces==="string")namespaces=[namespaces];if(options.allowMultiLoading&&this.backend.readMulti){this.read(languages,namespaces,"readMulti",null,null,function(err,data){if(err)_this6.logger.warn("reloading namespaces "+namespaces.join(", ")+" for languages "+languages.join(", ")+" via multiloading failed",err);if(!err&&data)_this6.logger.log("successfully reloaded namespaces "+namespaces.join(", ")+" for languages "+languages.join(", ")+" via multiloading",data);languages.forEach(function(l){namespaces.forEach(function(n){var bundle=getPath(data,[l,n]);if(bundle){_this6.loaded(l+"|"+n,err,bundle)}else{var error="reloading namespace "+n+" for language "+l+" via multiloading failed";_this6.loaded(l+"|"+n,error);_this6.logger.error(error)}})})})}else{languages.forEach(function(l){namespaces.forEach(function(n){_this6.loadOne(l+"|"+n,"re")})})}};Connector.prototype.loadOne=function loadOne(name){var _this7=this;var prefix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var _name$split5=name.split("|"),_name$split6=slicedToArray(_name$split5,2),lng=_name$split6[0],ns=_name$split6[1];this.read(lng,ns,"read",null,null,function(err,data){if(err)_this7.logger.warn(prefix+"loading namespace "+ns+" for language "+lng+" failed",err);if(!err&&data)_this7.logger.log(prefix+"loaded namespace "+ns+" for language "+lng,data);_this7.loaded(name,err,data)})};Connector.prototype.saveMissing=function saveMissing(languages,namespace,key,fallbackValue){if(this.backend&&this.backend.create)this.backend.create(languages,namespace,key,fallbackValue);if(!languages||!languages[0])return;this.store.addResource(languages[0],namespace,key,fallbackValue)};return Connector}(EventEmitter);var Connector$1=function(_EventEmitter){inherits(Connector,_EventEmitter);function Connector(cache,store,services){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};classCallCheck(this,Connector);var _this=possibleConstructorReturn(this,_EventEmitter.call(this));_this.cache=cache;_this.store=store;_this.services=services;_this.options=options;_this.logger=baseLogger.create("cacheConnector");if(_this.cache&&_this.cache.init)_this.cache.init(services,options.cache,options);return _this}Connector.prototype.load=function load(languages,namespaces,callback){var _this2=this;if(!this.cache)return callback&&callback();var options=_extends({},this.cache.options,this.options.cache);var loadLngs=typeof languages==="string"?this.services.languageUtils.toResolveHierarchy(languages):languages;if(options.enabled){this.cache.load(loadLngs,function(err,data){if(err)_this2.logger.error("loading languages "+loadLngs.join(", ")+" from cache failed",err);if(data){for(var l in data){if(Object.prototype.hasOwnProperty.call(data,l)){for(var n in data[l]){if(Object.prototype.hasOwnProperty.call(data[l],n)){if(n!=="i18nStamp"){var bundle=data[l][n];if(bundle)_this2.store.addResourceBundle(l,n,bundle)}}}}}}if(callback)callback()})}else if(callback){callback()}};Connector.prototype.save=function save(){if(this.cache&&this.options.cache&&this.options.cache.enabled)this.cache.save(this.store.data)};return Connector}(EventEmitter);function get$1(){return{debug:false,initImmediate:true,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:false,whitelist:false,nonExplicitWhitelist:false,load:"all",preload:false,simplifyPluralSuffix:true,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:false,saveMissingTo:"fallback",missingKeyHandler:false,postProcess:false,returnNull:true,returnEmptyString:true,returnObjects:false,joinArrays:false,returnedObjectHandler:function returnedObjectHandler(){},parseMissingKeyHandler:false,appendNamespaceToMissingKey:false,appendNamespaceToCIMode:false,overloadTranslationOptionHandler:function handle(args){return{defaultValue:args[1]}},interpolation:{escapeValue:true,format:function format(value,_format,lng){return value},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",defaultVariables:undefined}}}function transformOptions(options){if(typeof options.ns==="string")options.ns=[options.ns];if(typeof options.fallbackLng==="string")options.fallbackLng=[options.fallbackLng];if(typeof options.fallbackNS==="string")options.fallbackNS=[options.fallbackNS];if(options.whitelist&&options.whitelist.indexOf("cimode")<0)options.whitelist.push("cimode");return options}function noop(){}var I18n=function(_EventEmitter){inherits(I18n,_EventEmitter);function I18n(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var callback=arguments[1];classCallCheck(this,I18n);var _this=possibleConstructorReturn(this,_EventEmitter.call(this));_this.options=transformOptions(options);_this.services={};_this.logger=baseLogger;_this.modules={external:[]};if(callback&&!_this.isInitialized&&!options.isClone){var _ret;if(!_this.options.initImmediate)return _ret=_this.init(options,callback),possibleConstructorReturn(_this,_ret);setTimeout(function(){_this.init(options,callback)},0)}return _this}I18n.prototype.init=function init(options,callback){var _this2=this;if(typeof options==="function"){callback=options;options={}}if(!options)options={};if(options.compatibilityAPI==="v1"){this.options=_extends({},get$1(),transformOptions(convertAPIOptions(options)),{})}else if(options.compatibilityJSON==="v1"){this.options=_extends({},get$1(),transformOptions(convertJSONOptions(options)),{})}else{this.options=_extends({},get$1(),this.options,transformOptions(options))}this.format=this.options.interpolation.format;if(!callback)callback=noop;function createClassOnDemand(ClassOrObject){if(!ClassOrObject)return null;if(typeof ClassOrObject==="function")return new ClassOrObject;return ClassOrObject}if(!this.options.isClone){(function(){if(_this2.modules.logger){baseLogger.init(createClassOnDemand(_this2.modules.logger),_this2.options)}else{baseLogger.init(null,_this2.options)}var lu=new LanguageUtil(_this2.options);_this2.store=new ResourceStore(_this2.options.resources,_this2.options);var s=_this2.services;s.logger=baseLogger;s.resourceStore=_this2.store;s.resourceStore.on("added removed",function(lng,ns){s.cacheConnector.save()});s.languageUtils=lu;s.pluralResolver=new PluralResolver(lu,{prepend:_this2.options.pluralSeparator,compatibilityJSON:_this2.options.compatibilityJSON,simplifyPluralSuffix:_this2.options.simplifyPluralSuffix});s.interpolator=new Interpolator(_this2.options);s.backendConnector=new Connector(createClassOnDemand(_this2.modules.backend),s.resourceStore,s,_this2.options);s.backendConnector.on("*",function(event){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}_this2.emit.apply(_this2,[event].concat(args))});s.backendConnector.on("loaded",function(loaded){s.cacheConnector.save()});s.cacheConnector=new Connector$1(createClassOnDemand(_this2.modules.cache),s.resourceStore,s,_this2.options);s.cacheConnector.on("*",function(event){for(var _len2=arguments.length,args=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){args[_key2-1]=arguments[_key2]}_this2.emit.apply(_this2,[event].concat(args))});if(_this2.modules.languageDetector){s.languageDetector=createClassOnDemand(_this2.modules.languageDetector);s.languageDetector.init(s,_this2.options.detection,_this2.options)}_this2.translator=new Translator(_this2.services,_this2.options);_this2.translator.on("*",function(event){for(var _len3=arguments.length,args=Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++){args[_key3-1]=arguments[_key3]}_this2.emit.apply(_this2,[event].concat(args))});_this2.modules.external.forEach(function(m){if(m.init)m.init(_this2)})})()}var storeApi=["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"];storeApi.forEach(function(fcName){_this2[fcName]=function(){var _store;return(_store=_this2.store)[fcName].apply(_store,arguments)}});if(this.options.compatibilityAPI==="v1")appendBackwardsAPI(this);var load=function load(){_this2.changeLanguage(_this2.options.lng,function(err,t){_this2.isInitialized=true;_this2.logger.log("initialized",_this2.options);_this2.emit("initialized",_this2.options);callback(err,t)})};if(this.options.resources||!this.options.initImmediate){load()}else{setTimeout(load,0)}return this};I18n.prototype.loadResources=function loadResources(){var _this3=this;var callback=arguments.length>0&&arguments[0]!==undefined?arguments[0]:noop;if(!this.options.resources){var _ret3=function(){if(_this3.language&&_this3.language.toLowerCase()==="cimode")return{v:callback()};var toLoad=[];var append=function append(lng){if(!lng)return;var lngs=_this3.services.languageUtils.toResolveHierarchy(lng);lngs.forEach(function(l){if(toLoad.indexOf(l)<0)toLoad.push(l)})};if(!_this3.language){var fallbacks=_this3.services.languageUtils.getFallbackCodes(_this3.options.fallbackLng);fallbacks.forEach(function(l){return append(l)})}else{append(_this3.language)}if(_this3.options.preload){_this3.options.preload.forEach(function(l){return append(l)})}_this3.services.cacheConnector.load(toLoad,_this3.options.ns,function(){_this3.services.backendConnector.load(toLoad,_this3.options.ns,callback)})}();if((typeof _ret3==="undefined"?"undefined":_typeof(_ret3))==="object")return _ret3.v}else{callback(null)}};I18n.prototype.reloadResources=function reloadResources(lngs,ns){if(!lngs)lngs=this.languages;if(!ns)ns=this.options.ns;this.services.backendConnector.reload(lngs,ns)};I18n.prototype.use=function use(module){if(module.type==="backend"){this.modules.backend=module}if(module.type==="cache"){this.modules.cache=module}if(module.type==="logger"||module.log&&module.warn&&module.error){this.modules.logger=module}if(module.type==="languageDetector"){this.modules.languageDetector=module}if(module.type==="postProcessor"){postProcessor.addPostProcessor(module)}if(module.type==="3rdParty"){this.modules.external.push(module)}return this};I18n.prototype.changeLanguage=function changeLanguage(lng,callback){var _this4=this;var done=function done(err,l){if(l){_this4.emit("languageChanged",l);_this4.logger.log("languageChanged",l)}if(callback)callback(err,function(){return _this4.t.apply(_this4,arguments)})};var setLng=function setLng(l){if(l){_this4.language=l;_this4.languages=_this4.services.languageUtils.toResolveHierarchy(l);_this4.translator.changeLanguage(l);if(_this4.services.languageDetector)_this4.services.languageDetector.cacheUserLanguage(l)}_this4.loadResources(function(err){done(err,l)})};if(!lng&&this.services.languageDetector&&!this.services.languageDetector.async){setLng(this.services.languageDetector.detect())}else if(!lng&&this.services.languageDetector&&this.services.languageDetector.async){this.services.languageDetector.detect(setLng)}else{setLng(lng)}};I18n.prototype.getFixedT=function getFixedT(lng,ns){var _this5=this;var fixedT=function fixedT(key){var opts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var options=_extends({},opts);options.lng=options.lng||fixedT.lng;options.ns=options.ns||fixedT.ns;return _this5.t(key,options)};fixedT.lng=lng;fixedT.ns=ns;return fixedT};I18n.prototype.t=function t(){var _translator;return this.translator&&(_translator=this.translator).translate.apply(_translator,arguments)};I18n.prototype.exists=function exists(){var _translator2;return this.translator&&(_translator2=this.translator).exists.apply(_translator2,arguments)};I18n.prototype.setDefaultNamespace=function setDefaultNamespace(ns){this.options.defaultNS=ns};I18n.prototype.loadNamespaces=function loadNamespaces(ns,callback){var _this6=this;if(!this.options.ns)return callback&&callback();if(typeof ns==="string")ns=[ns];ns.forEach(function(n){if(_this6.options.ns.indexOf(n)<0)_this6.options.ns.push(n)});this.loadResources(callback)};I18n.prototype.loadLanguages=function loadLanguages(lngs,callback){if(typeof lngs==="string")lngs=[lngs];var preloaded=this.options.preload||[];var newLngs=lngs.filter(function(lng){return preloaded.indexOf(lng)<0});if(!newLngs.length)return callback();this.options.preload=preloaded.concat(newLngs);this.loadResources(callback)};I18n.prototype.dir=function dir(lng){if(!lng)lng=this.languages&&this.languages.length>0?this.languages[0]:this.language;if(!lng)return"rtl";var rtlLngs=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"];return rtlLngs.indexOf(this.services.languageUtils.getLanguagePartFromCode(lng))>=0?"rtl":"ltr"};I18n.prototype.createInstance=function createInstance(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var callback=arguments[1];return new I18n(options,callback)};I18n.prototype.cloneInstance=function cloneInstance(){var _this7=this;var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:noop;var mergedOptions=_extends({},this.options,options,{isClone:true});var clone=new I18n(mergedOptions,callback);var membersToCopy=["store","services","language"];membersToCopy.forEach(function(m){clone[m]=_this7[m]});clone.translator=new Translator(clone.services,clone.options);clone.translator.on("*",function(event){for(var _len4=arguments.length,args=Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++){args[_key4-1]=arguments[_key4]}clone.emit.apply(clone,[event].concat(args))});clone.init(mergedOptions,callback);return clone};return I18n}(EventEmitter);var i18next=new I18n;return i18next})},function(module,exports,__webpack_require__){(function(global,factory){true?module.exports=factory():typeof define==="function"&&define.amd?define(factory):global.i18nextXHRBackend=factory()})(this,function(){"use strict";var arr=[];var each=arr.forEach;var slice=arr.slice;function defaults(obj){each.call(slice.call(arguments,1),function(source){if(source){for(var prop in source){if(obj[prop]===undefined)obj[prop]=source[prop]}}});return obj}var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};function addQueryString(url,params){if(params&&(typeof params==="undefined"?"undefined":_typeof(params))==="object"){var queryString="",e=encodeURIComponent;for(var paramName in params){queryString+="&"+e(paramName)+"="+e(params[paramName])}if(!queryString){return url}url=url+(url.indexOf("?")!==-1?"&":"?")+queryString.slice(1)}return url}function ajax(url,options,callback,data,cache){if(data&&(typeof data==="undefined"?"undefined":_typeof(data))==="object"){if(!cache){data["_t"]=new Date}data=addQueryString("",data).slice(1)}if(options.queryStringParams){url=addQueryString(url,options.queryStringParams)}try{var x;if(XMLHttpRequest){x=new XMLHttpRequest}else{x=new ActiveXObject("MSXML2.XMLHTTP.3.0")}x.open(data?"POST":"GET",url,1);if(!options.crossDomain){x.setRequestHeader("X-Requested-With","XMLHttpRequest")}x.withCredentials=!!options.withCredentials;if(data){x.setRequestHeader("Content-type","application/x-www-form-urlencoded")}var h=options.customHeaders;if(h){for(var i in h){x.setRequestHeader(i,h[i])}}x.onreadystatechange=function(){x.readyState>3&&callback&&callback(x.responseText,x)};x.send(data)}catch(e){console&&console.log(e)}}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function getDefaults(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"locales/add/{{lng}}/{{ns}}",allowMultiLoading:false,parse:JSON.parse,crossDomain:false,ajax:ajax}}var Backend=function(){function Backend(services){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,Backend);this.init(services,options);this.type="backend"}_createClass(Backend,[{key:"init",value:function init(services){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.services=services;this.options=defaults(options,this.options||{},getDefaults())}},{key:"readMulti",value:function readMulti(languages,namespaces,callback){var loadPath=this.options.loadPath;if(typeof this.options.loadPath==="function"){loadPath=this.options.loadPath(languages,namespaces)}var url=this.services.interpolator.interpolate(loadPath,{lng:languages.join("+"),ns:namespaces.join("+")});this.loadUrl(url,callback)}},{key:"read",value:function read(language,namespace,callback){var loadPath=this.options.loadPath;if(typeof this.options.loadPath==="function"){loadPath=this.options.loadPath([language],[namespace])}var url=this.services.interpolator.interpolate(loadPath,{lng:language,ns:namespace});this.loadUrl(url,callback)}},{key:"loadUrl",value:function loadUrl(url,callback){var _this=this;this.options.ajax(url,this.options,function(data,xhr){if(xhr.status>=500&&xhr.status<600)return callback("failed loading "+url,true);if(xhr.status>=400&&xhr.status<500)return callback("failed loading "+url,false);var ret=void 0,err=void 0;try{ret=_this.options.parse(data,url)}catch(e){err="failed parsing "+url+" to json"}if(err)return callback(err,false);callback(null,ret)})}},{key:"create",value:function create(languages,namespace,key,fallbackValue){var _this2=this;if(typeof languages==="string")languages=[languages];var payload={};payload[key]=fallbackValue||"";languages.forEach(function(lng){var url=_this2.services.interpolator.interpolate(_this2.options.addPath,{lng:lng,ns:namespace});_this2.options.ajax(url,_this2.options,function(data,xhr){},payload)})}}]);return Backend}();Backend.type="backend";return Backend})},function(module,exports,__webpack_require__){(function(global,factory){true?module.exports=factory():typeof define==="function"&&define.amd?define(factory):global.i18nextLocalStorageCache=factory()})(this,function(){"use strict";var arr=[];var each=arr.forEach;var slice=arr.slice;function defaults(obj){each.call(slice.call(arguments,1),function(source){if(source){for(var prop in source){if(obj[prop]===undefined)obj[prop]=source[prop]}}});return obj}function debounce(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function later(){timeout=null;if(!immediate)func.apply(context,args)};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)func.apply(context,args)}}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var storage={setItem:function setItem(key,value){if(window.localStorage){try{window.localStorage.setItem(key,value)}catch(e){}}},getItem:function getItem(key,value){if(window.localStorage){try{return window.localStorage.getItem(key,value)}catch(e){}}return undefined}};function getDefaults(){return{enabled:false,prefix:"i18next_res_",expirationTime:7*24*60*60*1e3,versions:{}}}var Cache=function(){function Cache(services){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,Cache);this.init(services,options);this.type="cache";this.debouncedStore=debounce(this.store,1e4)}_createClass(Cache,[{key:"init",value:function init(services){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.services=services;this.options=defaults(options,this.options||{},getDefaults())}},{key:"load",value:function load(lngs,callback){var _this=this;var store={};var nowMS=(new Date).getTime();if(!window.localStorage||!lngs.length){return callback(null,null)}var todo=lngs.length;lngs.forEach(function(lng){var local=storage.getItem(_this.options.prefix+lng);if(local){local=JSON.parse(local);if(local.i18nStamp&&local.i18nStamp+_this.options.expirationTime>nowMS&&_this.options.versions[lng]===local.i18nVersion){delete local.i18nVersion;store[lng]=local}}todo-=1;if(todo===0){callback(null,store)}});return undefined}},{key:"store",value:function store(storeParam){var store=storeParam;if(window.localStorage){for(var m in store){store[m].i18nStamp=(new Date).getTime();if(this.options.versions[m]){store[m].i18nVersion=this.options.versions[m]}storage.setItem(this.options.prefix+m,JSON.stringify(store[m]))}}}},{key:"save",value:function save(store){this.debouncedStore(store)}}]);return Cache}();Cache.type="cache";return Cache})},function(module,exports,__webpack_require__){(function(global,factory){true?module.exports=factory():typeof define==="function"&&define.amd?define("i18nextSprintfPostProcessor",factory):global.i18nextSprintfPostProcessor=factory()})(this,function(){"use strict";var babelHelpers={};babelHelpers.typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj};babelHelpers;var re={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function sprintf(){var key=arguments[0],cache=sprintf.cache;if(!(cache[key]&&cache.hasOwnProperty(key))){cache[key]=sprintf.parse(key)}return sprintf.format.call(null,cache[key],arguments)}sprintf.format=function(parse_tree,argv){var cursor=1,tree_length=parse_tree.length,node_type="",arg,output=[],i,k,match,pad,pad_character,pad_length,is_positive=true,sign="";for(i=0;i<tree_length;i++){node_type=get_type(parse_tree[i]);if(node_type==="string"){output[output.length]=parse_tree[i]}else if(node_type==="array"){match=parse_tree[i];if(match[2]){arg=argv[cursor];for(k=0;k<match[2].length;k++){if(!arg.hasOwnProperty(match[2][k])){throw new Error(sprintf("[sprintf] property '%s' does not exist",match[2][k]))}arg=arg[match[2][k]]}}else if(match[1]){arg=argv[match[1]]}else{arg=argv[cursor++]}if(get_type(arg)=="function"){arg=arg()}if(re.not_string.test(match[8])&&re.not_json.test(match[8])&&get_type(arg)!="number"&&isNaN(arg)){throw new TypeError(sprintf("[sprintf] expecting number but found %s",get_type(arg)))}if(re.number.test(match[8])){is_positive=arg>=0}switch(match[8]){case"b":arg=arg.toString(2);break;case"c":arg=String.fromCharCode(arg);break;case"d":case"i":arg=parseInt(arg,10);break;case"j":arg=JSON.stringify(arg,null,match[6]?parseInt(match[6]):0);break;case"e":arg=match[7]?arg.toExponential(match[7]):arg.toExponential();break;case"f":arg=match[7]?parseFloat(arg).toFixed(match[7]):parseFloat(arg);break;case"g":arg=match[7]?parseFloat(arg).toPrecision(match[7]):parseFloat(arg);break;case"o":arg=arg.toString(8);break;case"s":arg=(arg=String(arg))&&match[7]?arg.substring(0,match[7]):arg;break;case"u":arg=arg>>>0;break;case"x":arg=arg.toString(16);break;case"X":arg=arg.toString(16).toUpperCase();break}if(re.json.test(match[8])){output[output.length]=arg}else{if(re.number.test(match[8])&&(!is_positive||match[3])){sign=is_positive?"+":"-";arg=arg.toString().replace(re.sign,"")}else{sign=""}pad_character=match[4]?match[4]==="0"?"0":match[4].charAt(1):" ";pad_length=match[6]-(sign+arg).length;pad=match[6]?pad_length>0?str_repeat(pad_character,pad_length):"":"";output[output.length]=match[5]?sign+arg+pad:pad_character==="0"?sign+pad+arg:pad+sign+arg}}}return output.join("")};sprintf.cache={};sprintf.parse=function(fmt){var _fmt=fmt,match=[],parse_tree=[],arg_names=0;while(_fmt){if((match=re.text.exec(_fmt))!==null){parse_tree[parse_tree.length]=match[0]}else if((match=re.modulo.exec(_fmt))!==null){parse_tree[parse_tree.length]="%"}else if((match=re.placeholder.exec(_fmt))!==null){if(match[2]){arg_names|=1;var field_list=[],replacement_field=match[2],field_match=[];if((field_match=re.key.exec(replacement_field))!==null){field_list[field_list.length]=field_match[1];while((replacement_field=replacement_field.substring(field_match[0].length))!==""){if((field_match=re.key_access.exec(replacement_field))!==null){field_list[field_list.length]=field_match[1]}else if((field_match=re.index_access.exec(replacement_field))!==null){field_list[field_list.length]=field_match[1]}else{throw new SyntaxError("[sprintf] failed to parse named argument key")}}}else{throw new SyntaxError("[sprintf] failed to parse named argument key")}match[2]=field_list}else{arg_names|=2}if(arg_names===3){throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported")}parse_tree[parse_tree.length]=match}else{throw new SyntaxError("[sprintf] unexpected placeholder")}_fmt=_fmt.substring(match[0].length)}return parse_tree};function vsprintf(fmt,argv,_argv){_argv=(argv||[]).slice(0);_argv.splice(0,0,fmt);return sprintf.apply(null,_argv)}function get_type(variable){return Object.prototype.toString.call(variable).slice(8,-1).toLowerCase()}function str_repeat(input,multiplier){return Array(multiplier+1).join(input)}var index={name:"sprintf",type:"postProcessor",process:function process(value,key,options){if(!options.sprintf)return value;if(Object.prototype.toString.apply(options.sprintf)==="[object Array]"){return vsprintf(value,options.sprintf)}else if(babelHelpers.typeof(options.sprintf)==="object"){return sprintf(value,options.sprintf)}return value},overloadTranslationOptionHandler:function overloadTranslationOptionHandler(args){var values=[];for(var i=1;i<args.length;i++){values.push(args[i])}return{postProcess:"sprintf",sprintf:values}}};return index})},function(module,exports,__webpack_require__){(function(global,factory){true?module.exports=factory():typeof define==="function"&&define.amd?define(factory):global.i18nextBrowserLanguageDetector=factory()})(this,function(){"use strict";var babelHelpers={};babelHelpers.classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}};babelHelpers.createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();babelHelpers;var arr=[];var each=arr.forEach;var slice=arr.slice;function defaults(obj){each.call(slice.call(arguments,1),function(source){if(source){for(var prop in source){if(obj[prop]===undefined)obj[prop]=source[prop]}}});return obj}var cookie={create:function create(name,value,minutes,domain){var expires=void 0;if(minutes){var date=new Date;date.setTime(date.getTime()+minutes*60*1e3);expires="; expires="+date.toGMTString()}else expires="";domain=domain?"domain="+domain+";":"";document.cookie=name+"="+value+expires+";"+domain+"path=/"},read:function read(name){var nameEQ=name+"=";var ca=document.cookie.split(";");for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)===" "){c=c.substring(1,c.length)}if(c.indexOf(nameEQ)===0)return c.substring(nameEQ.length,c.length)}return null},remove:function remove(name){this.create(name,"",-1)}};var cookie$1={name:"cookie",lookup:function lookup(options){var found=void 0;if(options.lookupCookie&&typeof document!=="undefined"){var c=cookie.read(options.lookupCookie);if(c)found=c}return found},cacheUserLanguage:function cacheUserLanguage(lng,options){if(options.lookupCookie&&typeof document!=="undefined"){cookie.create(options.lookupCookie,lng,options.cookieMinutes,options.cookieDomain)}}};var querystring={name:"querystring",lookup:function lookup(options){var found=void 0;if(typeof window!=="undefined"){var query=window.location.search.substring(1);var params=query.split("&");for(var i=0;i<params.length;i++){var pos=params[i].indexOf("=");if(pos>0){var key=params[i].substring(0,pos);if(key===options.lookupQuerystring){found=params[i].substring(pos+1)}}}}return found}};var hasLocalStorageSupport=void 0;try{hasLocalStorageSupport=window!=="undefined"&&window.localStorage!==null;var testKey="i18next.translate.boo";window.localStorage.setItem(testKey,"foo");window.localStorage.removeItem(testKey)}catch(e){hasLocalStorageSupport=false}var localStorage={name:"localStorage",lookup:function lookup(options){var found=void 0;if(options.lookupLocalStorage&&hasLocalStorageSupport){var lng=window.localStorage.getItem(options.lookupLocalStorage);if(lng)found=lng}return found},cacheUserLanguage:function cacheUserLanguage(lng,options){if(options.lookupLocalStorage&&hasLocalStorageSupport){window.localStorage.setItem(options.lookupLocalStorage,lng)}}};var navigator$1={name:"navigator",lookup:function lookup(options){var found=[];if(typeof navigator!=="undefined"){if(navigator.languages){for(var i=0;i<navigator.languages.length;i++){found.push(navigator.languages[i])}}if(navigator.userLanguage){found.push(navigator.userLanguage)}if(navigator.language){found.push(navigator.language)}}return found.length>0?found:undefined}};var htmlTag={name:"htmlTag",lookup:function lookup(options){var found=void 0;var htmlTag=options.htmlTag||(typeof document!=="undefined"?document.documentElement:null);if(htmlTag&&typeof htmlTag.getAttribute==="function"){found=htmlTag.getAttribute("lang")}return found}};function getDefaults(){return{order:["querystring","cookie","localStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}}var Browser=function(){function Browser(services){var options=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];babelHelpers.classCallCheck(this,Browser);this.type="languageDetector";this.detectors={};this.init(services,options)}babelHelpers.createClass(Browser,[{key:"init",value:function init(services){var options=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var i18nOptions=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];this.services=services;this.options=defaults(options,this.options||{},getDefaults());this.i18nOptions=i18nOptions;this.addDetector(cookie$1);this.addDetector(querystring);this.addDetector(localStorage);this.addDetector(navigator$1);this.addDetector(htmlTag)}},{key:"addDetector",value:function addDetector(detector){this.detectors[detector.name]=detector}},{key:"detect",value:function detect(detectionOrder){var _this=this;if(!detectionOrder)detectionOrder=this.options.order;var detected=[];detectionOrder.forEach(function(detectorName){if(_this.detectors[detectorName]){var lookup=_this.detectors[detectorName].lookup(_this.options);if(lookup&&typeof lookup==="string")lookup=[lookup];if(lookup)detected=detected.concat(lookup)}});var found=void 0;detected.forEach(function(lng){if(found)return;var cleanedLng=_this.services.languageUtils.formatLanguageCode(lng);if(_this.services.languageUtils.isWhitelisted(cleanedLng))found=cleanedLng});return found||this.i18nOptions.fallbackLng[0]}},{key:"cacheUserLanguage",value:function cacheUserLanguage(lng,caches){var _this2=this;if(!caches)caches=this.options.caches;if(!caches)return;if(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(lng)>-1)return;caches.forEach(function(cacheName){if(_this2.detectors[cacheName])_this2.detectors[cacheName].cacheUserLanguage(lng,_this2.options)})}}]);return Browser}();Browser.type="languageDetector";return Browser})}])});
//# sourceMappingURL=cdp.i18n.min.js.map